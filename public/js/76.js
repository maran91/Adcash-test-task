"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[76],{921:(t,r,e)=>{e.d(r,{Z:()=>s});const n={props:{title:{type:String,required:!0}}};const s=(0,e(900).Z)(n,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"d-flex flex-row align-items-center justify-content-between"},[e("h1",[t._v(t._s(t.title))]),t._v(" "),e("div",[t._t("default")],2)])}),[],!1,null,null,null).exports},76:(t,r,e)=>{e.r(r),e.d(r,{default:()=>l});var n=e(757),s=e.n(n);const o={data:function(){return{post:this.initialPost}},props:["initialPost","errors"],methods:{hasError:function(t){return this.errors.hasOwnProperty(t)},getErrors:function(t){var r,e;return null!==(r=null===(e=this.errors)||void 0===e?void 0:e[t])&&void 0!==r?r:[]}}};var a=e(900);function i(t,r,e,n,s,o,a){try{var i=t[o](a),c=i.value}catch(t){return void e(t)}i.done?r(c):Promise.resolve(c).then(n,s)}const c={components:{PostForm:(0,a.Z)(o,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("form",{staticClass:"add-form",on:{submit:function(r){return r.preventDefault(),t.$emit("submit",t.post)}}},[e("div",[e("label",{staticClass:"form-label"},[t._v("Post content")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.post.content,expression:"post.content"}],staticClass:"form-control",class:t.hasError("content")?"is-invalid":"",attrs:{type:"text",name:"text"},domProps:{value:t.post.content},on:{input:function(r){r.target.composing||t.$set(t.post,"content",r.target.value)}}}),t._v(" "),e("div",{staticClass:"invalid-feedback"},t._l(t.getErrors("content"),(function(r,n){return e("p",{key:n,staticClass:"mb-0"},[t._v("\n        "+t._s(r)+"\n      ")])})),0)]),t._v(" "),e("input",{staticClass:"btn btn-primary mt-3",attrs:{type:"submit",value:"Add Post"}})])}),[],!1,null,null,null).exports,ActionHeader:e(921).Z},data:function(){return{error:null,post:{content:"",category_id:this.$route.params.id}}},computed:{validationErrors:function(){var t,r;return null!==(t=null===(r=this.error)||void 0===r?void 0:r.errors)&&void 0!==t?t:{}}},methods:{createPost:function(t){var r,e=this;return(r=s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$api.posts.create(t);case 3:e.$router.push({name:"categoryPosts",params:{id:e.$route.params.id}}),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),e.error=r.t0;case 9:case"end":return r.stop()}}),r,null,[[0,6]])})),function(){var t=this,e=arguments;return new Promise((function(n,s){var o=r.apply(t,e);function a(t){i(o,n,s,a,c,"next",t)}function c(t){i(o,n,s,a,c,"throw",t)}a(void 0)}))})()}}};const l=(0,a.Z)(c,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"container"},[e("action-header",{attrs:{title:"Add post"}},[e("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"categoryPosts",params:{id:this.$route.params.id}}}},[t._v("\n      Back\n    ")])],1),t._v(" "),e("post-form",{attrs:{"initial-post":t.post,errors:t.validationErrors},on:{submit:t.createPost}})],1)}),[],!1,null,null,null).exports}}]);